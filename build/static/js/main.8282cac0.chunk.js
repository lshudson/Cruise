(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n.n(o),a=n(47),s=n.n(a),r=(n(59),n(6)),c=n(7),l=n(9),u=n(8),d=n(10),f=(n(29),function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={settings:!0,notifs:!1},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"setClicked",value:function(){this.setState({settings:!0,notifs:!1})}},{key:"notifsClicked",value:function(){this.setState({settings:!1,notifs:!0})}},{key:"render",value:function(){var t=this.state.settings?"green":"white",e=this.state.notifs?"green":"white",n=i.a.createElement("button",{id:"Settings",className:t,onClick:this.setClicked.bind(this),autoFocus:!0},"Settings"),o=i.a.createElement("button",{id:"Notifications",className:e,onClick:this.notifsClicked.bind(this)},"Notifications");return i.a.createElement("section",{className:"NavWrap"},n,o)}}]),e}(i.a.Component)),p=(n(73),n(2)),h=n(49),m=n(50),w=(n(23),function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).getInputValue=function(t){n.props.parentCallback(t.target.value)},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"form-group wordCountSection"},i.a.createElement("label",{htmlFor:"",className:"wordCountTitle"},"Word Count Threshold"),i.a.createElement("br",null),i.a.createElement("label",{htmlFor:"",className:"wordCount"},"How many total words you want to write"),i.a.createElement("input",{type:"number",title:"Rate",id:"wordCount",className:"form-control",min:"0",step:"1",onChange:this.getInputValue}))}}]),e}(i.a.Component)),b=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).getInputValue=function(t){n.props.parentCallback(t.target.value)},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"form-group pageCountSection"},i.a.createElement("label",{htmlFor:"",className:"pageCountTitle"},"Page Count Threshold"),i.a.createElement("br",null),i.a.createElement("label",{htmlFor:"",className:"pageCount"},"How many total pages you want to write"),i.a.createElement("input",{type:"number",title:"Rate",id:"pageCount",className:"form-control",min:"0",step:"1",onChange:this.getInputValue}))}}]),e}(i.a.Component),g=n(16),v=n.n(g),k=n(24),C=n(25),y=n.n(C),E=(n(96),n(48)),N=n.n(E),O=n(26),j=n.n(O);window.Swal=j.a;var S=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).setRoadblock=function(){setInterval(n.checkRoadblock(),1e3)},n.setCompletion=function(){setInterval(n.checkCompletion(),5e3)},n.sendThr=function(){setInterval(function(){n.checkRoadblock()},1e3),setInterval(function(){n.sendML()},3e5);var t=document.getElementById("thresholdsBtn");t.reportValidity(t)&&v.a.post("http://127.0.0.1:3001/api/thr/",{wordCount:n.state.wordCount,pageCount:n.state.pageCount}).then(function(t){console.log(t),console.log(t.data.wordcount),j.a.fire({title:"We expect you to take "+(t.data.wordcount/60).toFixed(2)+" minutes",text:"",icon:"OK",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"OK"})}),setInterval(function(){n.checkCompletion()},5e3)},n.sendML=function(){v.a.get("http://127.0.0.1:3001/api/ml/")},n.handleCallbackOne=function(t){n.setState(Object(p.a)({},n.state,{wordCount:t}))},n.handleCallbackTwo=function(t){console.log(t),n.setState(Object(p.a)({},n.state,{pageCount:t}))},n.state={isRoadblock:!1,isCompletion:!1,wordCount:0,pageCount:0,open:!1,title:""},n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"showRoadblockNotifications",value:function(){console.log("hello")}},{key:"showCompNotifications",value:function(){console.log("hello too")}},{key:"handleRoadClick",value:function(t){this.n.close(t.target.tag)}},{key:"handleCompClick",value:function(t){this.a.close(t.target.tag)}},{key:"checkRoadblock",value:function(){var t=this;v.a.get("http://127.0.0.1:3001/api/roadblock/").then(function(e){"True"==e.data[0]&&(console.log("roadblock notifs"),t.showRoadblockNotifications(),t.state.isRoadblock=!0)}).catch(function(t){return console.log("Show error notification! "+t),Promise.reject(t)})}},{key:"checkCompletion",value:function(){var t=this;v.a.get("http://127.0.0.1:3001/api/completion/").then(function(e){"True"==e.data[0]&&(console.log("completion notifs"),t.showCompNotifications(),t.state.isCompletion=!0)}).catch(function(t){return console.log("Show error notification! "+t),Promise.reject(t)})}},{key:"handleButtonClick",value:function(){if(!this.state.ignore){var t=Date.now(),e="React-Web-Notification"+t,n={tag:t,body:"Hello"+new Date,lang:"en",dir:"ltr"};this.setState({title:e,options:n})}}},{key:"handleButtonClick2",value:function(){this.props.swRegistration.getNotifications({}).then(function(t){console.log(t)})}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"thresholdsList"},i.a.createElement(y.a,{onRef:function(e){return t.n=e},title:"You have approached a roadblock!",body:"You have approached a roadblock!",tag:"roadblock",timeout:"2000",onClick:function(e){return t.handleRoadClick(e)}}),i.a.createElement(y.a,{onRef:function(e){return t.a=e},title:"You have completed your goal!",body:"You have completed your goal!",tag:"completion",timeout:"2000",onClick:function(e){return t.handleCompClick(e)}}),i.a.createElement("div",null,i.a.createElement("button",{onClick:this.handleButtonClick.bind(this)},"Notify!"),"swExample"===document.title&&i.a.createElement("button",{onClick:this.handleButtonClick2.bind(this)},"swRegistration.getNotifications"),i.a.createElement(N.a,{ignore:this.state.ignore&&""!==this.state.title,timeout:5e3,title:this.state.title,options:this.state.options,swRegistration:this.props.swRegistration})),i.a.createElement(m.a,{id:"thresholdsBtn",onClick:function(){t.setState({open:!t.state.open})},"aria-controls":"threshholdsList","aria-expanded":this.state.open},"Word and Page Count"),i.a.createElement(h.a,{in:this.state.open},i.a.createElement("div",{id:"threshholdsList"},i.a.createElement(w,{parentCallback:this.handleCallbackOne}),i.a.createElement(b,{parentCallback:this.handleCallbackTwo}),i.a.createElement("button",{className:"btn btn-success",onClick:this.sendThr},"submit"))))}}]),e}(i.a.Component);i.a.Component;var P=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(f,null),i.a.createElement(S,null))},R=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,104)).then(function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),o(t),i(t),a(t),s(t)})};s.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(P,null))),R()},48:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,i=(o=n(0))&&o.__esModule?o:{default:o},a=n(5);function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d="granted",f=function(){var t=0;return function(){return t++}}();var p=function(t){function e(t){var n,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,n=!(i=c(e).call(this,t))||"object"!==s(i)&&"function"!==typeof i?l(o):i;var a=!1,r=!1;return"Notification"in window&&window.Notification&&(a=!0,window.Notification.permission===d&&(r=!0)),n.state={supported:a,granted:r},n.notifications={},n.windowFocus=!0,n.onWindowFocus=n._onWindowFocus.bind(l(n)),n.onWindowBlur=n._onWindowBlur.bind(l(n)),n}var n,o,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,i["default"].Component),n=e,(o=[{key:"_onWindowFocus",value:function(){this.windowFocus=!0}},{key:"_onWindowBlur",value:function(){this.windowFocus=!1}},{key:"_askPermission",value:function(){var t=this,e=function(e){var n=e===d;t.setState({granted:n},function(){n?t.props.onPermissionGranted():t.props.onPermissionDenied()})};!function(){try{window.Notification.requestPermission().then()}catch(t){return!1}return!0}()?window.Notification.requestPermission(function(t){e(t)}):window.Notification.requestPermission().then(function(t){e(t)})}},{key:"componentDidMount",value:function(){this.props.disableActiveWindow&&(window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur)),this.state.supported?this.state.granted?this.props.onPermissionGranted():"denied"===window.Notification.permission?this.props.askAgain?this._askPermission():this.props.onPermissionDenied():this._askPermission():this.props.notSupported()}},{key:"componentWillUnmount",value:function(){this.props.disableActiveWindow&&(window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur))}},{key:"doNotification",value:function(){var t=this,e=this.props.options;if("string"!==typeof e.tag&&(e.tag="web-notification-"+f()),!this.notifications[e.tag])if(this.props.swRegistration&&this.props.swRegistration.showNotification)this.props.swRegistration.showNotification(this.props.title,e),this.notifications[e.tag]={};else{var n=new window.Notification(this.props.title,e);n.onshow=function(o){t.props.onShow(o,e.tag),t.props.timeout>0&&setTimeout(function(){t.close(n)},t.props.timeout)},n.onclick=function(n){t.props.onClick(n,e.tag)},n.onclose=function(n){t.props.onClose(n,e.tag)},n.onerror=function(n){t.props.onError(n,e.tag)},this.notifications[e.tag]=n}}},{key:"render",value:function(){var t=this.props.disableActiveWindow&&this.windowFocus;return!this.props.ignore&&this.props.title&&this.state.supported&&this.state.granted&&!t&&this.doNotification(),i.default.createElement("input",{type:"hidden",name:"dummy-for-react-web-notification",style:{display:"none"}})}},{key:"close",value:function(t){t&&"function"===typeof t.close&&t.close()}},{key:"_getNotificationInstance",value:function(t){return this.notifications[t]}}])&&r(n.prototype,o),a&&r(n,a),e}();p.propTypes={ignore:a.bool,disableActiveWindow:a.bool,askAgain:a.bool,notSupported:a.func,onPermissionGranted:a.func,onPermissionDenied:a.func,onShow:a.func,onClick:a.func,onClose:a.func,onError:a.func,timeout:a.number,title:a.string.isRequired,options:a.object,swRegistration:a.object},p.defaultProps={ignore:!1,disableActiveWindow:!1,askAgain:!1,notSupported:function(){},onPermissionGranted:function(){},onPermissionDenied:function(){},onShow:function(){},onClick:function(){},onClose:function(){},onError:function(){},timeout:5e3,options:{},swRegistration:null};var h=p;e.default=h},52:function(t,e,n){t.exports=n(103)},59:function(t,e,n){}},[[52,1,2]]]);
//# sourceMappingURL=main.8282cac0.chunk.js.map